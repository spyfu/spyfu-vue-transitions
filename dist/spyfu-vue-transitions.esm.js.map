{"version":3,"file":"spyfu-vue-transitions.esm.js","sources":["../src/transitions/auto_height.js"],"sourcesContent":["// these transition hooks are fired in the following order. there\r\n// is a race between the onAfterEnter and onTransitionEnd hook,\r\n// but it doesn't matter which of these actually fires first.\r\n// 1. onBeforeEnter\r\n// 2. onBeforeLeave\r\n// 3. onLeave\r\n// 4. onEnter\r\n// 5a. onAfterEnter\r\n// 5b. onTransitionEnd\r\n\r\nfunction onBeforeEnter(el) {\r\n    // get the entering element ready to be transitioned\r\n    el.style.opacity = 0;\r\n    el.style.transition = `opacity ${this.props.duration / 2}ms ${this.props.fadeInCurve}`;\r\n    el.style.willChange = 'opacity';\r\n}\r\n\r\nfunction onBeforeLeave(el) {\r\n    // get the leaving element ready to be transitioned\r\n    el.style.opacity = 1;\r\n    el.style.transition = `opacity ${this.props.duration / 2}ms ${this.props.fadeOutCurve}`;\r\n    el.style.willChange = 'opacity';\r\n}\r\n\r\nfunction onLeave(el, done) {\r\n    // fix the height of our container\r\n    el.parentElement.style.height = `${el.offsetHeight}px`;\r\n    // make the leaving element fade out\r\n    el.style.opacity = 0;\r\n    // remove the leaving element from the dom after it fades out\r\n    setTimeout(done, this.props.duration / 2);\r\n}\r\n\r\nfunction onEnter(el, done) {\r\n    // prevent the transitioning elements from overflowing our container\r\n    el.parentElement.style.overflow = 'hidden';\r\n    el.parentElement.style.transition = `height ${this.props.duration}ms ${this.props.heightCurve}`;\r\n    el.parentElement.style.willChange = 'height';\r\n\r\n    // set the new height of our wrapper element\r\n    el.parentElement.style.height = `${el.offsetHeight}px`;\r\n\r\n    // wait for the leaving element to fade out, then fade in the entering one\r\n    setTimeout(() => {\r\n        el.style.opacity = 1;\r\n\r\n        // and when that transition is complete, end the entering element phase\r\n        setTimeout(done, this.props.duration / 2);\r\n    }, this.props.duration / 2);\r\n}\r\n\r\nfunction onAfterEnter(el) {\r\n    // remove inline styles from the entering element\r\n    el.removeAttribute('style');\r\n}\r\n\r\nfunction onTransitionEnd(e) {\r\n    // when the transitions are over remove inline styles from our wrapper\r\n    if (e.target.classList.contains('v-collapse-transition')) {\r\n        e.target.removeAttribute('style');\r\n    }\r\n}\r\n\r\nexport default {\r\n    render(h, context) {\r\n        return h('div', {\r\n            class: 'v-auto-height-transition',\r\n            on: {\r\n                transitionend: onTransitionEnd,\r\n            },\r\n        }, [\r\n            h('transition', {\r\n                on: {\r\n                    afterEnter: onAfterEnter,\r\n                    beforeEnter: onBeforeEnter.bind(context),\r\n                    enter: onEnter.bind(context),\r\n                    leave: onLeave.bind(context),\r\n                },\r\n            }, context.slots().default || h('div')),\r\n        ]);\r\n    },\r\n    functional: true,\r\n    props: {\r\n        duration: {\r\n            default: 350,\r\n            type: Number,\r\n        },\r\n        fadeOutCurve: {\r\n            default: 'ease-out',\r\n            type: String,\r\n        },\r\n        fadeInCurve: {\r\n            default: 'ease-in',\r\n            type: String,\r\n        },\r\n        heightCurve: {\r\n            default: 'ease-in-out',\r\n            type: String,\r\n        },\r\n        tag: {\r\n            default: 'div',\r\n            type: String,\r\n        },\r\n    },\r\n};\r\n"],"names":["this"],"mappings":"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"}