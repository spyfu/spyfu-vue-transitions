{"version":3,"file":"spyfu-vue-transitions.esm.js","sources":["../src/transitions/auto_height.js"],"sourcesContent":["// these transition hooks are fired in the following order. there\r\n// is a race between the onAfterEnter and onTransitionEnd hook,\r\n// but it doesn't matter which of these actually fires first.\r\n// 1. onBeforeEnter\r\n// 2. onBeforeLeave\r\n// 3. onLeave\r\n// 4. onEnter\r\n// 5a. onAfterEnter\r\n// 5b. onTransitionEnd\r\n\r\nfunction onBeforeEnter(el) {\r\n    // get the entering element ready to be transitioned\r\n    el.style.opacity = 0;\r\n    el.style.transition = `opacity ${this.props.duration / 2}ms ${this.props.fadeInCurve}`;\r\n    el.style.willChange = 'opacity';\r\n}\r\n\r\nfunction onBeforeLeave(el) {\r\n    // get the leaving element ready to be transitioned\r\n    el.style.opacity = 1;\r\n    el.style.transition = `opacity ${this.props.duration / 2}ms ${this.props.fadeOutCurve}`;\r\n    el.style.willChange = 'opacity';\r\n}\r\n\r\nfunction onLeave(el, done) {\r\n    // fix the height of our container\r\n    el.parentElement.style.height = `${el.offsetHeight}px`;\r\n    // make the leaving element fade out\r\n    el.style.opacity = 0;\r\n    // remove the leaving element from the dom after it fades out\r\n    setTimeout(done, this.props.duration / 2);\r\n}\r\n\r\nfunction onEnter(el, done) {\r\n    // prevent the transitioning elements from overflowing our container\r\n    el.parentElement.style.overflow = 'hidden';\r\n    el.parentElement.style.transition = `height ${this.props.duration}ms ${this.props.heightCurve}`;\r\n    el.parentElement.style.willChange = 'height';\r\n\r\n    // set the new height of our wrapper element\r\n    el.parentElement.style.height = `${el.offsetHeight}px`;\r\n\r\n    // wait for the leaving element to fade out, then fade in the entering one\r\n    setTimeout(() => {\r\n        el.style.opacity = 1;\r\n\r\n        // and when that transition is complete, end the entering element phase\r\n        setTimeout(done, this.props.duration / 2);\r\n    }, this.props.duration / 2);\r\n}\r\n\r\nfunction onAfterEnter(el) {\r\n    // remove inline styles from the entering element\r\n    el.removeAttribute('style');\r\n}\r\n\r\nfunction onTransitionEnd(e) {\r\n    // when the transitions are over remove inline styles from our wrapper\r\n    if (e.target.classList.contains('v-collapse-transition')) {\r\n        e.target.removeAttribute('style');\r\n    }\r\n}\r\n\r\nexport default {\r\n    render(h, context) {\r\n        return h('div', {\r\n            class: 'v-auto-height-transition',\r\n            on: {\r\n                transitionend: onTransitionEnd,\r\n            },\r\n        }, [\r\n            h('transition', {\r\n                on: {\r\n                    afterEnter: onAfterEnter,\r\n                    beforeEnter: onBeforeEnter.bind(context),\r\n                    enter: onEnter.bind(context),\r\n                    leave: onLeave.bind(context),\r\n                },\r\n            }, context.slots().default || h('div')),\r\n        ]);\r\n    },\r\n    functional: true,\r\n    props: {\r\n        duration: {\r\n            default: 350,\r\n            type: Number,\r\n        },\r\n        fadeOutCurve: {\r\n            default: 'ease-out',\r\n            type: String,\r\n        },\r\n        fadeInCurve: {\r\n            default: 'ease-in',\r\n            type: String,\r\n        },\r\n        heightCurve: {\r\n            default: 'ease-in-out',\r\n            type: String,\r\n        },\r\n        tag: {\r\n            default: 'div',\r\n            type: String,\r\n        },\r\n    },\r\n};\r\n"],"names":["onBeforeEnter","el","style","opacity","transition","this","props","duration","willChange","onLeave","done","parentElement","height","setTimeout","onEnter","overflow","onAfterEnter","removeAttribute","onTransitionEnd","e","target","classList","contains","render","h","context","class","on","transitionend","afterEnter","beforeEnter","bind","enter","leave","slots","default","functional","type","Number","fadeOutCurve","String","fadeInCurve","heightCurve","tag"],"mappings":"AAUA,SAASA,cAAcC,GAEnBA,EAAGC,MAAMC,QAAU,EACnBF,EAAGC,MAAME,WAAa,WAAWC,KAAKC,MAAMC,SAAW,QAAOF,KAAKC,MAAiB,YACpFL,EAAGC,MAAMM,WAAa,UAU1B,SAASC,QAAQR,EAAIS,GAEjBT,EAAGU,cAAcT,MAAMU,OAAYX,oBAEnCA,EAAGC,MAAMC,QAAU,EAEnBU,WAAWH,EAAML,KAAKC,MAAMC,SAAW,GAG3C,SAASO,QAAQb,EAAIS,cAEjBT,EAAGU,cAAcT,MAAMa,SAAW,SAClCd,EAAGU,cAAcT,MAAME,WAAa,UAAUC,KAAKC,qBAAoBD,KAAKC,MAAiB,YAC7FL,EAAGU,cAAcT,MAAMM,WAAa,SAGpCP,EAAGU,cAAcT,MAAMU,OAAYX,oBAGnCY,sBACIZ,EAAGC,MAAMC,QAAU,EAGnBU,WAAWH,EAAML,EAAKC,MAAMC,SAAW,IACxCF,KAAKC,MAAMC,SAAW,GAG7B,SAASS,aAAaf,GAElBA,EAAGgB,gBAAgB,SAGvB,SAASC,gBAAgBC,GAEjBA,EAAEC,OAAOC,UAAUC,SAAS,0BAC5BH,EAAEC,OAAOH,gBAAgB,SAIjC,iBACIM,gBAAOC,EAAGC,GACN,OAAOD,EAAE,OACLE,MAAO,2BACPC,IACIC,cAAeV,mBAGnBM,EAAE,cACEG,IACIE,WAAYb,aACZc,YAAa9B,cAAc+B,KAAKN,GAChCO,MAAOlB,QAAQiB,KAAKN,GACpBQ,MAAOxB,QAAQsB,KAAKN,KAEzBA,EAAQS,QAAQC,SAAWX,EAAE,WAGxCY,YAAY,EACZ9B,OACIC,UACI4B,QAAS,IACTE,KAAMC,QAEVC,cACIJ,QAAS,WACTE,KAAMG,QAEVC,aACIN,QAAS,UACTE,KAAMG,QAEVE,aACIP,QAAS,cACTE,KAAMG,QAEVG,KACIR,QAAS,MACTE,KAAMG"}